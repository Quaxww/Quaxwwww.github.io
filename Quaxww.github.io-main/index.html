<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–ú–ö - –¢—Ä—É–±–Ω–∞—è –ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∞—è –ö–æ–º–ø–∞–Ω–∏—è</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="logo.png" alt="–¢–ú–ö" class="logo-image">
                    <h1>–¢–ú–ö</h1>
                </div>
                <div class="header-actions">
                    <button class="theme-toggle" id="themeToggle">
                        <span class="theme-icon">üåô</span>
                    </button>
                    <button class="cart-btn" id="cartBtn">
                        <span class="cart-icon">üõí</span>
                        <span class="cart-count" id="cartCount">0</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –ì–û–°–¢—É –∏–ª–∏ –º–∞—Ä–∫–µ —Å—Ç–∞–ª–∏..." class="search-input">
                    <div class="search-icon">üîç</div>
                </div>
            </section>

            <!-- Filters -->
            <section class="filters-section">
                <div class="section-card">
                    <div class="filters-header">
                        <h3>üîß –§–∏–ª—å—Ç—Ä—ã</h3>
                        <button class="clear-filters" id="clearFilters">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>üè≠ –°–∫–ª–∞–¥</label>
                            <select id="stockFilter" class="filter-select">
                                <option value="">–í—Å–µ —Å–∫–ª–∞–¥—ã</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>üì¶ –¢–∏–ø –ø—Ä–æ–¥—É–∫—Ü–∏–∏</label>
                            <select id="typeFilter" class="filter-select">
                                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>üìè –î–∏–∞–º–µ—Ç—Ä (–º–º)</label>
                            <input type="number" id="diameterFilter" class="filter-input" placeholder="–º–º" min="0">
                        </div>
                        <div class="filter-group">
                            <label>üîß –¢–æ–ª—â–∏–Ω–∞ —Å—Ç–µ–Ω–∫–∏ (–º–º)</label>
                            <input type="number" id="thicknessFilter" class="filter-input" placeholder="–º–º" min="0">
                        </div>
                        <div class="filter-group">
                            <label>üìã –ì–û–°–¢</label>
                            <select id="gostFilter" class="filter-select">
                                <option value="">–í—Å–µ –ì–û–°–¢—ã</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>‚ö° –ú–∞—Ä–∫–∞ —Å—Ç–∞–ª–∏</label>
                            <select id="steelFilter" class="filter-select">
                                <option value="">–í—Å–µ –º–∞—Ä–∫–∏</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Products -->
            <section class="products-section">
                <div class="section-card">
                    <div class="section-header">
                        <h2>üì¶ –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h2>
                        <div class="products-stats">
                            <span class="stat" id="productsCount">0 —Ç–æ–≤–∞—Ä–æ–≤</span>
                            <span class="stat" id="availableCount">0 –≤ –Ω–∞–ª–∏—á–∏–∏</span>
                        </div>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        <!-- Products will be loaded here -->
                    </div>

                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞...</p>
                    </div>

                    <div class="empty-state" id="emptyState" style="display: none;">
                        <div class="empty-icon">üì¶</div>
                        <h3>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>–¢–ú–ö</h4>
                    <p>–¢—Ä—É–±–Ω–∞—è –ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∞—è –ö–æ–º–ø–∞–Ω–∏—è</p>
                    <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å 2001 –≥–æ–¥–∞</p>
                </div>
                <div class="footer-section">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <p>üìû +7 (800) 100-00-00</p>
                    <p>üìß info@tmk.ru</p>
                    <p>üìç –ú–æ—Å–∫–≤–∞, —É–ª. –ú–µ—Ç–∞–ª–ª—É—Ä–≥–æ–≤, 15</p>
                </div>
                <div class="footer-section">
                    <h4>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h4>
                    <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
                    <p>–°–±-–í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 –¢–ú–ö. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </footer>

        <!-- Modals -->
        <div class="modal" id="productModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="productModalTitle">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</h3>
                    <button class="close-modal" id="closeProductModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="product-details" id="productDetails"></div>
                    <div class="quantity-section">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                        <div class="quantity-tabs">
                            <button class="tab-btn active" data-unit="meters">üìè –ú–µ—Ç—Ä—ã</button>
                            <button class="tab-btn" data-unit="tons">‚öñÔ∏è –¢–æ–Ω–Ω—ã</button>
                        </div>
                        <div class="quantity-input">
                            <input type="number" id="quantity" min="0.01" step="0.01" value="1" oninput="validateQuantity(this)">
                            <span id="quantityUnit">–º</span>
                        </div>
                        <div class="stock-info" id="stockInfo">
                            –î–æ—Å—Ç—É–ø–Ω–æ: <span id="availableStock">0</span> <span id="stockUnit">–º</span>
                        </div>
                        <div class="price-info">
                            <div class="price-row">
                                <span>–¶–µ–Ω–∞ –∑–∞ –µ–¥.:</span>
                                <span id="unitPrice">0 ‚ÇΩ</span>
                            </div>
                            <div class="price-row">
                                <span>–°–∫–∏–¥–∫–∞:</span>
                                <span id="discountAmount">0%</span>
                            </div>
                            <div class="price-row total">
                                <span>–ò—Ç–æ–≥–æ:</span>
                                <span id="totalPrice">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn secondary" id="cancelAdd">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn primary" id="addToCart">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                </div>
            </div>
        </div>

        <div class="modal" id="cartModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
                    <button class="close-modal" id="closeCartModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="cart-items" id="cartItems">
                        <!-- Cart items will appear here -->
                    </div>
                    <div class="cart-total">
                        <div class="total-row">
                            <span>–°—É–º–º–∞:</span>
                            <span id="subtotal">0 ‚ÇΩ</span>
                        </div>
                        <div class="total-row discount">
                            <span>–°–∫–∏–¥–∫–∞:</span>
                            <span id="discount">0 ‚ÇΩ</span>
                        </div>
                        <div class="total-row final">
                            <span>–ò—Ç–æ–≥–æ:</span>
                            <span id="finalTotal">0 ‚ÇΩ</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn secondary" id="continueShopping">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
                    <button class="btn primary" id="checkout">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
        </div>

        <div class="modal" id="checkoutModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üöÄ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
                    <button class="close-modal" id="closeCheckoutModal">√ó</button>
                </div>
                <div class="modal-body">
                    <form class="checkout-form" id="checkoutForm">
                        <div class="form-group">
                            <label>üë§ –§–ò–û *</label>
                            <input type="text" id="customerName" required 
                                   placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                                   oninput="app.validateField(this)">
                        </div>
                        <div class="form-group">
                            <label>üìû –¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <input type="tel" id="customerPhone" required 
                                   placeholder="+7 (999) 999-99-99"
                                   oninput="app.validateField(this)">
                        </div>
                        <div class="form-group">
                            <label>üìß Email *</label>
                            <input type="email" id="customerEmail" required 
                                   placeholder="ivanov@example.ru"
                                   oninput="app.validateField(this)">
                        </div>
                        <div class="form-group">
                            <label>üè¢ –ö–æ–º–ø–∞–Ω–∏—è</label>
                            <input type="text" id="customerCompany" 
                                   placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏">
                        </div>
                        <div class="form-group">
                            <label>üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                            <textarea id="deliveryAddress" 
                                      placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞"></textarea>
                        </div>
                        <div class="form-group">
                            <label>üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label>
                            <textarea id="orderComment" 
                                      placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"></textarea>
                        </div>
                        
                        <!-- –ö–∞–ø—á–∞ -->
                        <div class="form-group">
                            <label>üîí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç *</label>
                            <div class="captcha-container">
                                <div class="captcha-question" id="captchaQuestion">
                                    <!-- –í–æ–ø—Ä–æ—Å –∫–∞–ø—á–∏ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
                                </div>
                                <input type="text" id="captchaAnswer" required 
                                       placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç"
                                       oninput="app.validateCaptcha(this)">
                                <button type="button" class="btn secondary" id="refreshCaptcha" 
                                        onclick="app.generateCaptcha()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                            <div class="captcha-hint" id="captchaHint"></div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn secondary" id="backToCart">–ù–∞–∑–∞–¥ –∫ –∫–æ—Ä–∑–∏–Ω–µ</button>
                    <button class="btn primary" id="submitOrder">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>